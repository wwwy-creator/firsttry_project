{"version":3,"sources":["rabbit3.js"],"names":["cc","Class","extends","Component","properties","toDistance","toDuration","jumpAudio","default","type","AudioClip","playJumpSound","audioEngine","playEffect","setDirection","name","callback","callFunc","toLeft","moveBy","v2","easing","easeCubicActionOut","sequence","toRight","toUp","toDown","onKeyDown","event","keyName","Pos","node","getPosition","keyCode","macro","KEY","a","x","runAction","d","w","y","s","onLoad","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onDestroy","off","start"],"mappings":"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","file":"rabbit3.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n    //��ʽ\r\n    properties: {\r\n        //ƽ��һ�εľ���\r\n        toDistance: 0,\r\n        //ƽ��һ�ε�ʱ��\r\n        toDuration: 0,\r\n        //����\r\n        jumpAudio: {\r\n            default: null,\r\n            type: cc.AudioClip\r\n        },\r\n    },\r\n\r\n\r\n    playJumpSound: function () {\r\n        // �����������沥������\r\n        cc.audioEngine.playEffect(this.jumpAudio, false);\r\n    },\r\n\r\n    setDirection: function (name) {\r\n        // ������Ծ����\r\n        var callback = cc.callFunc(this.playJumpSound, this);\r\n        //����\r\n        if (name == \"left\") {\r\n            var toLeft = cc.moveBy(this.toDuration, cc.v2(-this.toDistance, 0)).easing(cc.easeCubicActionOut());\r\n            return cc.sequence(callback, toLeft);\r\n        }\r\n        else if (name == \"right\") {\r\n            // ����\r\n            var toRight = cc.moveBy(this.toDuration, cc.v2(this.toDistance, 0)).easing(cc.easeCubicActionOut());\r\n            return cc.sequence(callback, toRight);\r\n        }\r\n        else if (name == \"up\") {\r\n            // ����\r\n            var toUp = cc.moveBy(this.toDuration, cc.v2(0, this.toDistance)).easing(cc.easeCubicActionOut());\r\n            return cc.sequence(callback, toUp);\r\n        }\r\n        else{\r\n            // ����\r\n            var toDown = cc.moveBy(this.toDuration, cc.v2(0, -this.toDistance)).easing(cc.easeCubicActionOut());\r\n            return cc.sequence(callback, toDown);\r\n        }\r\n    },\r\n\r\n    onKeyDown(event) {\r\n        var keyName;\r\n        //�������Ӳ��ܳ��ӽ�\r\n        var Pos = this.node.getPosition();\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.a: {\r\n                if (Pos.x > -300) {\r\n                    keyName = \"left\";\r\n                    this.node.runAction(this.setDirection(keyName));\r\n                }\r\n                break;\r\n            };\r\n            case cc.macro.KEY.d: {\r\n                if (Pos.x < 400) {\r\n                    keyName = \"right\";\r\n                    this.node.runAction(this.setDirection(keyName));\r\n                }\r\n                break;\r\n            }; \r\n            case cc.macro.KEY.w: {\r\n                if (Pos.y < 200) {\r\n                    keyName = \"up\";\r\n                    this.node.runAction(this.setDirection(keyName));\r\n                }\r\n                break;\r\n            };\r\n            case cc.macro.KEY.s: {\r\n                if (Pos.y > -100) {\r\n                    keyName = \"down\";\r\n                    this.node.runAction(this.setDirection(keyName));\r\n                }\r\n                break;\r\n            };\r\n        }\r\n    },\r\n\r\n    onLoad: function () {\r\n        // ��ʼ�������������\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n    },\r\n\r\n    onDestroy() {\r\n        // ȡ�������������\r\n        cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN, this.onKeyDown, this);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n});\r\n"]}