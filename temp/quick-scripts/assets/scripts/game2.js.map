{"version":3,"sources":["game2.js"],"names":["cc","Class","extends","Component","properties","stuff","default","type","Prefab","timeInterval","rabbit","Node","score","Label","distance","scoreAudio","AudioClip","overAudio","option","Home","Pause","createOption","getComponent","onDestroy","runAction","setDown","scheduleOnce","stopAllActions","node","opacity","Button","interactable","newOption1","instantiate","newOption2","parent","addChild","Pos","getPosition","jumpDown","moveTo","v2","x","easing","easeCubicActionOut","createStuff","index","Math","floor","random","newStuff","game2","timer","gainScore","carrotScore","string","playScoreSound","audioEngine","playEffect","playOverSound","onLoad","update","dt","start"],"mappings":"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","file":"game2.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        //���ܲ����ĸ�С���ﶼ�Ž�����\r\n        stuff: {\r\n            default: [],\r\n            type: [cc.Prefab],\r\n        },\r\n        //���� �����ʱ����\r\n        timeInterval: 0,\r\n        //���ӽڵ�\r\n        rabbit: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        //����\r\n        score: {\r\n            default: null,\r\n            type: cc.Label,\r\n        },\r\n        //ÿ֡С�����ƶ�����\r\n        distance: 0,\r\n        //�÷�����\r\n        scoreAudio: {\r\n            default: null,\r\n            type: cc.AudioClip\r\n        },\r\n        //��������\r\n        overAudio: {\r\n            default: null,\r\n            type: cc.AudioClip\r\n        },\r\n        //����ѡ��restart��home\r\n        option: {\r\n            default: [],\r\n            type:[cc.Prefab]\r\n        },\r\n        Home: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        Pause: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n    },\r\n\r\n    createOption: function () {\r\n        this.rabbit.getComponent(\"rabbit2\").onDestroy();\r\n        this.rabbit.runAction(this.setDown());\r\n        //��ʱ\r\n        this.scheduleOnce(function () {\r\n            this.rabbit.stopAllActions();\r\n            this.node.opacity = 150;\r\n            this.Home.getComponent(cc.Button).interactable = false;\r\n            this.Pause.getComponent(cc.Button).interactable = false;\r\n            // ����������button\r\n            var newOption1 = cc.instantiate(this.option[0]);\r\n            var newOption2 = cc.instantiate(this.option[1]);\r\n            // �������Ľڵ����ӵ� Canvas���ڵ�����\r\n            this.node.parent.addChild(newOption1);\r\n            this.node.parent.addChild(newOption2);\r\n        }, 0.2);\r\n    },\r\n\r\n    setDown: function () {\r\n        var Pos = this.rabbit.getPosition();\r\n        // ����\r\n        var jumpDown = cc.moveTo(2, cc.v2(Pos.x, -500)).easing(cc.easeCubicActionOut());\r\n        return jumpDown;\r\n    },\r\n\r\n    createStuff: function () {\r\n        // �ڳ���������һ���½ڵ�\r\n        var index = Math.floor(Math.random() * 8);\r\n        var newStuff = cc.instantiate(this.stuff[index]);\r\n        // �������Ľڵ����ӵ� Canvas �ڵ�����\r\n        this.node.addChild(newStuff);\r\n        // ��lauch������ݴ�game2���������\r\n        newStuff.getComponent('lauch2').game2 = this;\r\n        this.timer = 0;\r\n    },\r\n\r\n    gainScore: function () {\r\n        this.carrotScore += 1;\r\n        // ���� score Label ������\r\n        this.score.string = 'x' + this.carrotScore;\r\n    },\r\n\r\n    playScoreSound: function () {\r\n        // �����������沥������\r\n        cc.audioEngine.playEffect(this.scoreAudio, false);\r\n    },\r\n\r\n    playOverSound: function () {\r\n        // �����������沥������\r\n        cc.audioEngine.playEffect(this.overAudio, false);\r\n    },\r\n\r\n    onLoad: function () {\r\n        //��ʱ��\r\n        this.timer = 0;\r\n        //����һ������\r\n        this.createStuff();\r\n        //����һ��ȫ�ֵķ�����������\r\n        this.carrotScore = 0;\r\n    },\r\n    /**/\r\n    update: function (dt) {\r\n        // ÿ֡���¼�ʱ��\r\n        if (this.timer > this.timeInterval) {\r\n            //����һ������\r\n            this.createStuff();\r\n            return;\r\n        }\r\n        this.timer += dt;\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n});\r\n"]}